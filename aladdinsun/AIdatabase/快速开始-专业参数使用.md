# TDSQL æ¶æ„é¢„æµ‹ç³»ç»Ÿ - ä¸“ä¸šå‚æ•°å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

æœ¬æŒ‡å—å¸®åŠ©æ‚¨å¿«é€Ÿäº†è§£å’Œä½¿ç”¨æ–°çš„**150+ä¸“ä¸šçº§å‚æ•°ç³»ç»Ÿ**ã€‚

---

## ğŸ“‹ ä¸‰ç§ä½¿ç”¨æ¨¡å¼

### 1ï¸âƒ£ ç®€åŒ–æ¨¡å¼ - å¿«é€Ÿé¢„æµ‹ï¼ˆæ¨èæ–°æ‰‹ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šå¿«é€Ÿè¯„ä¼°ã€åˆæ­¥æ–¹æ¡ˆã€æ¦‚å¿µéªŒè¯

**å¡«å†™æ—¶é—´**ï¼š5-10åˆ†é’Ÿ

**é¢„æµ‹å‡†ç¡®ç‡**ï¼š75-85%

**å¿…å¡«å‚æ•°ï¼ˆ15ä¸ªï¼‰**ï¼š

#### ä¸šåŠ¡åŸºç¡€ï¼ˆ3ä¸ªï¼‰
```yaml
industry: é“¶è¡Œ              # è¡Œä¸šç±»å‹ï¼ˆ22ä¸ªé€‰é¡¹ï¼‰
business_type: OLTP         # ä¸šåŠ¡ç±»å‹ï¼ˆOLTP/OLAP/HTAPï¼‰
scenario_name: æ ¸å¿ƒäº¤æ˜“ç³»ç»Ÿ  # åœºæ™¯åç§°
```

#### æ•°æ®è§„æ¨¡ï¼ˆ3ä¸ªï¼‰
```yaml
total_data_size_gb: 1000    # æ•°æ®æ€»é‡(GB)
table_count: 200            # è¡¨æ•°é‡
data_growth_rate_yearly: 30 # å¹´åº¦å¢é•¿ç‡(%)
```

#### æ€§èƒ½æŒ‡æ ‡ï¼ˆ4ä¸ªï¼‰
```yaml
avg_qps: 10000              # å¹³å‡QPS
avg_tps: 5000               # å¹³å‡TPS
concurrent_connections: 1000 # å¹¶å‘è¿æ¥æ•°
avg_response_time_ms: 50    # å¹³å‡å“åº”æ—¶é—´(ms)
```

#### å¯ç”¨æ€§è¦æ±‚ï¼ˆ3ä¸ªï¼‰
```yaml
availability_level: é«˜å¯ç”¨(99.99%)  # å¯ç”¨æ€§çº§åˆ«
need_high_availability: true        # éœ€è¦é«˜å¯ç”¨
need_disaster_recovery: true        # éœ€è¦ç¾å¤‡
```

#### è¯»å†™ç‰¹å¾ï¼ˆ2ä¸ªï¼‰
```yaml
read_write_ratio: "7:3"     # è¯»å†™æ¯”ä¾‹
need_read_write_split: true # éœ€è¦è¯»å†™åˆ†ç¦»
```

---

### 2ï¸âƒ£ æ ‡å‡†æ¨¡å¼ - è¯¦ç»†é¢„æµ‹ï¼ˆæ¨èå¤§å¤šæ•°ç”¨æˆ·ï¼‰â­

**é€‚ç”¨åœºæ™¯**ï¼šæ­£å¼é¡¹ç›®ã€è¯¦ç»†æ–¹æ¡ˆã€å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯

**å¡«å†™æ—¶é—´**ï¼š15-20åˆ†é’Ÿ

**é¢„æµ‹å‡†ç¡®ç‡**ï¼š85-92%

**å‚æ•°æ•°é‡**ï¼š35ä¸ªï¼ˆå¿…å¡«15ä¸ª + æ¨è20ä¸ªï¼‰

#### åœ¨ç®€åŒ–æ¨¡å¼åŸºç¡€ä¸Šï¼Œé¢å¤–å¡«å†™ï¼š

**æ€§èƒ½æŒ‡æ ‡ï¼ˆ5ä¸ªï¼‰**ï¼š
```yaml
peak_qps: 50000             # å³°å€¼QPS
peak_tps: 25000             # å³°å€¼TPS
p99_response_time_ms: 100   # P99å“åº”æ—¶é—´
max_table_size_gb: 500      # æœ€å¤§è¡¨å¤§å°
read_qps: 7000              # è¯»QPS
```

**é«˜å¯ç”¨ï¼ˆ3ä¸ªï¼‰**ï¼š
```yaml
rto_minutes: 5              # RTOæ¢å¤æ—¶é—´(åˆ†é’Ÿ)
rpo_minutes: 0              # RPOæ¢å¤ç‚¹(åˆ†é’Ÿ)
dr_type: ä¸¤åœ°ä¸‰ä¸­å¿ƒ          # ç¾å¤‡ç±»å‹
```

**å®‰å…¨åˆè§„ï¼ˆ4ä¸ªï¼‰**ï¼š
```yaml
data_sensitivity: æœºå¯†       # æ•°æ®æ•æ„Ÿçº§åˆ«
need_encryption: true       # éœ€è¦åŠ å¯†
compliance_required: true   # åˆè§„è¦æ±‚
compliance_standards:       # åˆè§„æ ‡å‡†
  - ç­‰ä¿ä¸‰çº§
  - PCI-DSS
```

**åˆ†ç‰‡ç­–ç•¥ï¼ˆ3ä¸ªï¼‰**ï¼š
```yaml
need_sharding: true         # éœ€è¦åˆ†åº“åˆ†è¡¨
sharding_strategy: æŒ‰ç”¨æˆ·ID  # åˆ†ç‰‡ç­–ç•¥
expected_shard_count: 8     # é¢„æœŸåˆ†ç‰‡æ•°
```

**å…¶ä»–ï¼ˆ5ä¸ªï¼‰**ï¼š
```yaml
backup_frequency: daily     # å¤‡ä»½é¢‘ç‡
need_cache: true           # éœ€è¦ç¼“å­˜
cache_type: redis          # ç¼“å­˜ç±»å‹
monitoring_level: standard # ç›‘æ§çº§åˆ«
total_budget: 5000000      # æ€»é¢„ç®—
```

---

### 3ï¸âƒ£ ä¸“ä¸šæ¨¡å¼ - ç²¾ç¡®é¢„æµ‹ï¼ˆæ¨èå…³é”®é¡¹ç›®ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šå…³é”®é¡¹ç›®ã€é‡‘èæ ¸å¿ƒç³»ç»Ÿã€å¤§å‹ç”µå•†å¹³å°

**å¡«å†™æ—¶é—´**ï¼š30-40åˆ†é’Ÿ

**é¢„æµ‹å‡†ç¡®ç‡**ï¼š92-98%

**å‚æ•°æ•°é‡**ï¼š150+å…¨éƒ¨å‚æ•°

**åŒ…å«14ä¸ªåˆ†ç±»çš„æ‰€æœ‰å‚æ•°**ï¼Œè¯¦è§ã€Šä¸“ä¸šå‚æ•°è¯´æ˜æ–‡æ¡£.mdã€‹

---

## ğŸ¯ è¡Œä¸šå¿«é€Ÿé…ç½®æ¨¡æ¿

### é‡‘èè¡Œä¸šï¼ˆé“¶è¡Œã€è¯åˆ¸ã€ä¿é™©ï¼‰

```yaml
# ä¸šåŠ¡åŸºç¡€
industry: é“¶è¡Œ
business_type: OLTP
scenario_name: æ ¸å¿ƒäº¤æ˜“ç³»ç»Ÿ

# æ•°æ®è§„æ¨¡
total_data_size_gb: 2000
table_count: 300
data_growth_rate_yearly: 15

# æ€§èƒ½æŒ‡æ ‡
avg_qps: 20000
peak_qps: 100000
avg_tps: 10000
concurrent_connections: 2000
avg_response_time_ms: 20
p99_response_time_ms: 50

# é«˜å¯ç”¨ä¸å®¹ç¾
availability_level: å…³é”®(99.999%)
need_high_availability: true
need_disaster_recovery: true
dr_type: ä¸¤åœ°ä¸‰ä¸­å¿ƒ
rto_minutes: 5
rpo_minutes: 0

# è¯»å†™ç‰¹å¾
read_write_ratio: "6:4"
need_read_write_split: true

# å®‰å…¨åˆè§„
data_sensitivity: æœºå¯†
need_encryption: true
compliance_required: true
compliance_standards:
  - ç­‰ä¿ä¸‰çº§
  - PCI-DSS

# ç‰¹æ®Šéœ€æ±‚
financial_transaction_support: true
two_phase_commit: true
distributed_transaction: true
```

**é¢„æœŸç»“æœ**ï¼š
- æ¶æ„ç±»å‹ï¼šåˆ†å¸ƒå¼é«˜å¯ç”¨
- èŠ‚ç‚¹æ•°é‡ï¼š6-8ä¸ª
- åˆ†ç‰‡æ•°é‡ï¼š4-8ä¸ª
- é¢„ä¼°æˆæœ¬ï¼š250-350ä¸‡/å¹´
- é¢„æµ‹å‡†ç¡®ç‡ï¼š95%+

---

### ç”µå•†è¡Œä¸šï¼ˆç”µå•†å¹³å°ã€O2Oï¼‰

```yaml
# ä¸šåŠ¡åŸºç¡€
industry: ç”µå•†å¹³å°
business_type: OLTP
scenario_name: è®¢å•ç³»ç»Ÿ

# æ•°æ®è§„æ¨¡
total_data_size_gb: 1500
table_count: 250
data_growth_rate_yearly: 50

# æ€§èƒ½æŒ‡æ ‡
avg_qps: 50000
peak_qps: 500000
avg_tps: 20000
concurrent_connections: 5000
avg_response_time_ms: 30
p99_response_time_ms: 100

# ä¸šåŠ¡ç‰¹å¾
has_promotion_scenario: true
promotion_peak_multiplier: 10
has_seasonal_traffic: true
seasonal_peak_multiplier: 5

# é«˜å¯ç”¨ä¸å®¹ç¾
availability_level: é«˜å¯ç”¨(99.99%)
need_high_availability: true
need_disaster_recovery: false

# è¯»å†™ç‰¹å¾
read_write_ratio: "8:2"
need_read_write_split: true
read_slave_count: 4

# æ€§èƒ½ä¼˜åŒ–
need_cache: true
cache_type: redis
cache_size_gb: 200

# æ‰©å±•æ€§
scalability_required: true
auto_scaling: true
min_nodes: 4
max_nodes: 16

# ç‰¹æ®Šéœ€æ±‚
flash_sale_support: true
inventory_deduction: true
order_consistency: true
```

**é¢„æœŸç»“æœ**ï¼š
- æ¶æ„ç±»å‹ï¼šåˆ†å¸ƒå¼è¯»å†™åˆ†ç¦»
- èŠ‚ç‚¹æ•°é‡ï¼š8-12ä¸ª
- åˆ†ç‰‡æ•°é‡ï¼š8-16ä¸ª
- é¢„ä¼°æˆæœ¬ï¼š180-280ä¸‡/å¹´
- é¢„æµ‹å‡†ç¡®ç‡ï¼š93%+

---

### æ¸¸æˆè¡Œä¸šï¼ˆæ‰‹æ¸¸ã€ç«¯æ¸¸ï¼‰

```yaml
# ä¸šåŠ¡åŸºç¡€
industry: æ‰‹æ¸¸
business_type: OLTP
scenario_name: ç©å®¶æ•°æ®ç³»ç»Ÿ

# æ•°æ®è§„æ¨¡
total_data_size_gb: 800
table_count: 150
data_growth_rate_yearly: 40

# æ€§èƒ½æŒ‡æ ‡
avg_qps: 30000
peak_qps: 150000
avg_tps: 15000
concurrent_connections: 3000
avg_response_time_ms: 10
max_acceptable_latency_ms: 10

# ä¸šåŠ¡ç‰¹å¾
has_seasonal_traffic: true
seasonal_peak_multiplier: 3

# é«˜å¯ç”¨ä¸å®¹ç¾
availability_level: é«˜å¯ç”¨(99.99%)
need_high_availability: true
need_disaster_recovery: false

# è¯»å†™ç‰¹å¾
read_write_ratio: "7:3"
need_read_write_split: true

# åˆ†ç‰‡ç­–ç•¥
need_sharding: true
sharding_strategy: æŒ‰æœåŠ¡å™¨
partition_by_server: true
expected_shard_count: 10

# æ€§èƒ½ä¼˜åŒ–
need_cache: true
cache_type: redis
cache_size_gb: 100

# ç‰¹æ®Šéœ€æ±‚
low_latency_required: true
partition_by_server: true
cross_server_query: false
```

**é¢„æœŸç»“æœ**ï¼š
- æ¶æ„ç±»å‹ï¼šåˆ†åŒºåˆ†æœæ¶æ„
- èŠ‚ç‚¹æ•°é‡ï¼š6-10ä¸ª
- åˆ†ç‰‡æ•°é‡ï¼š10-20ä¸ªï¼ˆæŒ‰æœï¼‰
- é¢„ä¼°æˆæœ¬ï¼š120-200ä¸‡/å¹´
- é¢„æµ‹å‡†ç¡®ç‡ï¼š91%+

---

## ğŸ“Š å‚æ•°å¡«å†™æŠ€å·§

### 1. æ•°æ®é‡ä¼°ç®—

**å½“å‰æ•°æ®é‡**ï¼š
```
æ•°æ®åº“å¤§å° = è¡¨æ•°é‡ Ã— å¹³å‡è¡¨å¤§å°
```

**æœªæ¥æ•°æ®é‡**ï¼š
```
1å¹´å = å½“å‰æ•°æ®é‡ Ã— (1 + å¹´å¢é•¿ç‡)
3å¹´å = å½“å‰æ•°æ®é‡ Ã— (1 + å¹´å¢é•¿ç‡)Â³
```

### 2. QPS/TPSä¼°ç®—

**ä»ç”¨æˆ·æ•°ä¼°ç®—**ï¼š
```
QPS â‰ˆ æ—¥æ´»ç”¨æˆ· Ã— äººå‡è¯·æ±‚æ•° / 86400
å³°å€¼QPS â‰ˆ QPS Ã— å³°å€¼å€æ•°ï¼ˆé€šå¸¸2-5å€ï¼‰
```

**ä»ä¸šåŠ¡é‡ä¼°ç®—**ï¼š
```
TPS â‰ˆ æ—¥è®¢å•é‡ / 86400
å³°å€¼TPS â‰ˆ TPS Ã— å³°å€¼å€æ•°
```

### 3. å“åº”æ—¶é—´è¦æ±‚

| åœºæ™¯ | å¹³å‡å“åº”æ—¶é—´ | P99å“åº”æ—¶é—´ |
|------|-------------|------------|
| é‡‘èäº¤æ˜“ | < 20ms | < 50ms |
| ç”µå•†ä¸‹å• | < 30ms | < 100ms |
| æ¸¸æˆæ“ä½œ | < 10ms | < 30ms |
| å†…å®¹æµè§ˆ | < 50ms | < 200ms |

### 4. å¯ç”¨æ€§çº§åˆ«é€‰æ‹©

| çº§åˆ« | å¯ç”¨æ€§ | å¹´åœæœºæ—¶é—´ | é€‚ç”¨åœºæ™¯ |
|------|--------|-----------|---------|
| åŸºç¡€ | 99% | 3.65å¤© | å†…éƒ¨ç³»ç»Ÿ |
| æ ‡å‡† | 99.9% | 8.76å°æ—¶ | ä¸€èˆ¬ä¸šåŠ¡ |
| é«˜å¯ç”¨ | 99.99% | 52.56åˆ†é’Ÿ | é‡è¦ä¸šåŠ¡ |
| å…³é”® | 99.999% | 5.26åˆ†é’Ÿ | é‡‘èæ ¸å¿ƒ |
| æè‡´ | 99.9999% | 31.5ç§’ | ç‰¹æ®Šåœºæ™¯ |

### 5. ç¾å¤‡ç±»å‹é€‰æ‹©

| ç±»å‹ | è¯´æ˜ | RTO | RPO | æˆæœ¬ |
|------|------|-----|-----|------|
| æ—  | ä¸é…ç½®ç¾å¤‡ | - | - | ä½ |
| åŒåŸåŒæ´» | åŒåŸä¸¤ä¸ªæ•°æ®ä¸­å¿ƒ | < 1åˆ†é’Ÿ | 0 | ä¸­ |
| å¼‚åœ°ç¾å¤‡ | å¼‚åœ°å¤‡ä»½ä¸­å¿ƒ | 5-30åˆ†é’Ÿ | 5-60åˆ†é’Ÿ | ä¸­ |
| ä¸¤åœ°ä¸‰ä¸­å¿ƒ | æœ¬åœ°+åŒåŸ+å¼‚åœ° | < 5åˆ†é’Ÿ | 0 | é«˜ |
| å¤šåœ°å¤šæ´» | å¤šä¸ªåœ°åŸŸåŒæ—¶æœåŠ¡ | < 1åˆ†é’Ÿ | 0 | å¾ˆé«˜ |

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•é€‰æ‹©ä½¿ç”¨æ¨¡å¼ï¼Ÿ

**A**: 
- **æ–°æ‰‹/å¿«é€Ÿè¯„ä¼°** â†’ ç®€åŒ–æ¨¡å¼ï¼ˆ15ä¸ªå‚æ•°ï¼‰
- **æ­£å¼é¡¹ç›®** â†’ æ ‡å‡†æ¨¡å¼ï¼ˆ35ä¸ªå‚æ•°ï¼‰â­æ¨è
- **å…³é”®é¡¹ç›®/é‡‘è** â†’ ä¸“ä¸šæ¨¡å¼ï¼ˆ150+å‚æ•°ï¼‰

### Q2: å¿…å¡«å‚æ•°éƒ½è¦å¡«å—ï¼Ÿ

**A**: æ˜¯çš„ï¼Œ15ä¸ªå¿…å¡«å‚æ•°æ˜¯é¢„æµ‹çš„åŸºç¡€ï¼Œå¿…é¡»å¡«å†™ã€‚å…¶ä»–å‚æ•°å¯æ ¹æ®å®é™…æƒ…å†µé€‰å¡«ã€‚

### Q3: ä¸çŸ¥é“æŸä¸ªå‚æ•°æ€ä¹ˆå¡«ï¼Ÿ

**A**: 
1. æŸ¥çœ‹ã€Šä¸“ä¸šå‚æ•°è¯´æ˜æ–‡æ¡£.mdã€‹ä¸­çš„å‚è€ƒå€¼
2. å‚è€ƒè¡Œä¸šæ¨¡æ¿
3. ä½¿ç”¨é»˜è®¤å€¼
4. å’¨è¯¢æŠ€æœ¯æ”¯æŒ

### Q4: å¦‚ä½•æé«˜é¢„æµ‹å‡†ç¡®æ€§ï¼Ÿ

**A**:
1. å¡«å†™æ›´å¤šå‚æ•°ï¼ˆæ¨èå‚æ•°ï¼‰
2. æä¾›å‡†ç¡®çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆQPSã€TPSï¼‰
3. æ˜ç¡®ä¸šåŠ¡ç‰¹å¾ï¼ˆä¿ƒé”€ã€å­£èŠ‚æ€§ï¼‰
4. é€‰æ‹©æ­£ç¡®çš„è¡Œä¸šç±»å‹

### Q5: é¢„æµ‹ç»“æœä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ

**A**:
1. æ£€æŸ¥å‚æ•°æ˜¯å¦å¡«å†™æ­£ç¡®
2. å°è¯•å¡«å†™æ›´å¤šå‚æ•°
3. æäº¤å®é™…æ¡ˆä¾‹ï¼Œå¸®åŠ©ç³»ç»Ÿå­¦ä¹ 
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº
- ğŸ“„ ã€Šä¸“ä¸šå‚æ•°è¯´æ˜æ–‡æ¡£.mdã€‹ - 150+å‚æ•°è¯¦ç»†è¯´æ˜
- ğŸ“„ ã€Šå‚æ•°å‡çº§å¯¹æ¯”.mdã€‹ - æ–°æ—§å‚æ•°å¯¹æ¯”
- ğŸ“„ ã€Šå‚æ•°é‡å®šä¹‰å®ŒæˆæŠ¥å‘Š.mdã€‹ - é¡¹ç›®æ€»ç»“

### APIæ¥å£
```bash
# è·å–å‚æ•°é…ç½®ï¼ˆç®€åŒ–æ¨¡å¼ï¼‰
GET /api/parameter_config?mode=simplified

# è·å–å‚æ•°é…ç½®ï¼ˆé«˜çº§æ¨¡å¼ï¼‰
GET /api/parameter_config?mode=advanced

# éªŒè¯å‚æ•°
POST /api/validate_parameters
```

### æŠ€æœ¯æ”¯æŒ
- ğŸ“§ Email: support@example.com
- ğŸ’¬ åœ¨çº¿å’¨è¯¢: http://localhost:5003
- ğŸ“± ç”µè¯: 400-xxx-xxxx

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **é€‰æ‹©ä½¿ç”¨æ¨¡å¼**ï¼šç®€åŒ–/æ ‡å‡†/ä¸“ä¸š
2. **å‚è€ƒè¡Œä¸šæ¨¡æ¿**ï¼šé‡‘è/ç”µå•†/æ¸¸æˆ
3. **å¡«å†™å‚æ•°**ï¼šæ ¹æ®å®é™…æƒ…å†µå¡«å†™
4. **è·å–é¢„æµ‹ç»“æœ**ï¼šæ¶æ„æ–¹æ¡ˆã€æˆæœ¬ä¼°ç®—
5. **æäº¤åé¦ˆ**ï¼šå¸®åŠ©ç³»ç»ŸæŒç»­ä¼˜åŒ–

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

**ç‰ˆæœ¬**: v2.0  
**æ›´æ–°æ—¶é—´**: 2024-01  
**åŸºäº**: 8ä¸ªæˆç†Ÿæ¨¡å‹åº“ 735+çœŸå®æ¡ˆä¾‹
