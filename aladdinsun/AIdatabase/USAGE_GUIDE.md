# TDSQL 架构智能预测系统 v3.0 - 使用指南

## 🚀 系统访问

**主页面**: http://127.0.0.1:5173

## ✅ 已修复的问题

### 1. 表单加载问题 ✓
- **问题**: 手动输入标签页的表单无法加载
- **解决**: 完善了 `loadParameterForm()` 函数，实现了动态表单生成
- **功能**: 
  - 支持简化模式（20个参数，7个分组）
  - 支持专业模式（150+参数）
  - 自动生成表单字段（文本框、下拉框、数字输入、复选框等）

### 2. 案例库选择问题 ✓
- **问题**: 案例库无法选择和查看
- **解决**: 
  - 添加了 `get_library()` 方法到后端
  - 添加了 `/api/download_library/<id>` 接口
  - 完善了前端的 `viewLibraryDetail()` 函数
- **功能**:
  - 点击案例库卡片查看详情
  - 显示案例数、准确率、版本、特性、适用行业
  - 支持下载未安装的模型库
  - 支持使用已安装的模型库

## 📋 功能清单

### 1️⃣ 文件上传分析
- **支持格式**: Excel (.xlsx, .xls), PDF (.pdf), 图片 (.png, .jpg), JSON (.json)
- **使用方法**: 
  1. 点击"📤 文件上传"标签
  2. 拖拽文件或点击上传区域
  3. 系统自动分析并返回结果

### 2️⃣ 手动输入参数
- **简化模式**: 20个核心参数，适合快速评估
  - 基本信息（行业、业务类型、用户规模等）
  - 数据规模（数据量、表数量、QPS/TPS等）
  - 性能要求（响应时间、并发连接等）
  - 可用性要求（SLA、灾备等）
  - 安全合规
  - 成本预算
  - 扩展性需求

- **专业模式**: 150+详细参数，适合精确规划
  - 14个参数分组
  - 涵盖所有架构维度

- **使用方法**:
  1. 点击"✍️ 手动输入"标签
  2. 选择输入模式（简化/专业）
  3. 填写表单
  4. 点击"开始分析"

### 3️⃣ 多系统环境分析
- **功能**: 上传包含多个系统的Excel文件，统一规划
- **使用方法**:
  1. 点击"🏢 多系统环境"标签
  2. 下载Excel模板
  3. 填写多系统信息
  4. 上传文件分析

### 4️⃣ 案例库浏览
- **可用模型库**: 8个（735+案例）
  1. **腾讯云官方模型库** - 150案例，92-95%准确率
  2. **金融行业社区库** - 80案例，93-96%准确率
  3. **电商行业库** - 60案例，89-93%准确率
  4. **游戏行业库** - 45案例，87-91%准确率
  5. **GitHub开源库** - 120案例，88-92%准确率
  6. **华为云库** - 110案例，90-94%准确率
  7. **阿里云库** - 95案例，89-93%准确率
  8. **自定义库** - 支持用户创建

- **使用方法**:
  1. 点击"📚 案例库"标签
  2. 浏览模型库列表
  3. 点击任意模型库查看详情
  4. 未安装的可以下载安装
  5. 已安装的可以直接使用

### 5️⃣ 自我学习
- **功能**: 查看训练统计，提交实际案例
- **使用方法**:
  1. 点击"🧠 自我学习"标签
  2. 查看当前模型统计
  3. 提交新案例帮助系统优化

## 🎯 快速测试

### 测试表单加载
1. 访问 http://127.0.0.1:5173
2. 点击"✍️ 手动输入"标签
3. 应该看到7个参数分组的表单
4. 切换"专业模式"，表单会重新加载

### 测试案例库
1. 点击"📚 案例库"标签
2. 应该看到8个模型库卡片
3. 点击"腾讯云官方模型库"
4. 应该看到详细信息页面，包括：
   - 150个案例
   - 92-95%准确率
   - v2.1.0版本
   - 特性列表
   - 适用行业标签
   - "使用此模型库"和"查看案例"按钮

### 测试下载功能
1. 在案例库中找到未安装的模型库
2. 点击查看详情
3. 点击"下载并安装"按钮
4. 等待下载完成
5. 刷新案例库列表，状态应变为"已安装"

## 🔧 API接口

所有接口都已正常工作：

- `GET /api/health` - 健康检查 ✓
- `GET /api/status` - 系统状态 ✓
- `GET /api/parameter_config?mode=simplified|advanced` - 参数配置 ✓
- `GET /api/model_libraries` - 模型库列表 ✓
- `GET /api/library/<id>` - 模型库详情 ✓
- `POST /api/download_library/<id>` - 下载模型库 ✓
- `POST /api/predict` - 预测分析 ✓
- `POST /api/analyze` - 文件分析 ✓
- `POST /api/process_multi_system` - 多系统分析 ✓
- `GET /api/training_stats` - 训练统计 ✓

## 📊 系统状态

```bash
# 检查服务状态
curl http://127.0.0.1:5173/api/health

# 查看模型库数量
curl http://127.0.0.1:5173/api/model_libraries | python3 -m json.tool

# 查看参数配置
curl 'http://127.0.0.1:5173/api/parameter_config?mode=simplified' | python3 -m json.tool
```

## 💡 提示

1. **刷新页面**: 如果看不到更新，请使用 Ctrl+F5 (Windows) 或 Cmd+Shift+R (Mac) 强制刷新
2. **浏览器控制台**: 按 F12 打开开发者工具，查看网络请求和错误信息
3. **后端日志**: 查看 `/tmp/tdsql_app.log` 了解后端运行情况

## 🎉 现在可以使用的功能

✅ 所有标签页都可以正常点击切换
✅ 手动输入表单可以正常加载和填写
✅ 案例库可以浏览、查看详情、下载安装
✅ 文件上传功能正常
✅ 多系统环境分析功能正常
✅ 自我学习统计可以查看

**请刷新浏览器页面，然后尽情体验所有功能！** 🚀
