# 🔍 AnyDev 域名访问问题排查指南

## 问题现象
浏览器无法通过 `aladdinsun.devcloud.woa.com` 访问服务

## ✅ 已确认正常的部分
1. ✅ Flask 应用正常运行（进程 7430）
2. ✅ 端口 5173 正常监听 0.0.0.0
3. ✅ 本地 curl 测试正常（HTTP 200）

## 🔍 可能的原因

### 原因 1：端口转发未配置（最可能）
**AnyDev 云研发环境需要在 iOA 客户端配置端口转发**

#### 解决方案：
1. 打开 **iOA 客户端**
2. 找到你的云研发环境 `aladdinsun-23thglr84a`
3. 点击「更多」→「端口转发」
4. 添加端口转发规则：
   - 容器端口：5173
   - 协议：TCP
   - 访问方式：公网访问

### 原因 2：域名未正确绑定到环境
**域名需要在创建环境时或环境详情中绑定**

#### 解决方案：
1. 打开 iOA → 云研发
2. 找到当前环境，点击「更多」→「环境详情」
3. 检查「自定义域名」是否设置为 `aladdinsun.devcloud.woa.com`
4. 如果没有，点击「编辑」添加域名绑定

### 原因 3：域名解析问题
**域名可能需要在 UDNS 系统中配置解析**

#### 检查方法：
```bash
# 在本地电脑执行
nslookup aladdinsun.devcloud.woa.com
ping aladdinsun.devcloud.woa.com
```

#### 解决方案：
1. 访问 UDNS：http://udns.woa.com
2. 查找域名 `aladdinsun.devcloud.woa.com`
3. 确认解析记录指向正确的 IP 或 CNAME

### 原因 4：防火墙或安全组限制
**云研发环境可能有网络策略限制**

#### 解决方案：
检查是否需要申请网络策略开通

## 📋 推荐的访问方式

### 方式 1：通过 iOA 端口转发访问（最简单）
1. 在 iOA 中配置端口转发
2. 会自动生成一个访问地址，类似：
   `http://aladdinsun-23thglr84a.devcloud.woa.com:xxxxx`

### 方式 2：通过自定义域名访问
需要确保：
- 域名已在环境中绑定
- 端口转发已配置
- 域名解析正确

### 方式 3：使用 AnyDev 默认域名
每个环境都有默认域名，格式类似：
`http://21-91-205-22.devcloud.woa.com:5173`

## 🔧 立即可以尝试的访问地址

1. **内网 IP 访问**（在公司网络内）：
   ```
   http://21.91.205.22:5173
   ```

2. **AnyDev 默认域名**（可能需要端口）：
   ```
   http://aladdinsun-23thglr84a.devcloud.woa.com:5173
   ```

3. **通过 iOA 查看实际的访问地址**：
   - 打开 iOA → 云研发
   - 点击环境详情
   - 查看「访问地址」或「域名信息」

## �� 下一步操作建议

1. **立即尝试**：在 iOA 客户端中查看环境详情，找到实际的访问地址
2. **配置端口转发**：在 iOA 中为端口 5173 配置转发
3. **检查域名绑定**：确认域名是否正确绑定到当前环境
4. **联系支持**：如果以上都不行，联系 AnyDev 支持团队

