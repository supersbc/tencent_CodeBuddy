# ğŸš¨ AIdatabase æ— æ³•è®¿é—® - è§£å†³æ–¹æ¡ˆ

**é—®é¢˜:** æ— æ³•é€šè¿‡ https://aladdinsun.devcloud.woa.com è®¿é—®

---

## ğŸ“ å¿«é€Ÿè§£å†³æ­¥éª¤

### ç¬¬1æ­¥: ç™»å½•æœåŠ¡å™¨

```bash
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨åœ°å€
cd /data/workspace/tencent_CodeBuddy/aladdinsun/AIdatabase
```

### ç¬¬2æ­¥: æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥Flaskè¿›ç¨‹
ps aux | grep app_simple.py

# æ£€æŸ¥Nginxè¿›ç¨‹
ps aux | grep nginx

# æ£€æŸ¥ç«¯å£
ss -tlnp | grep -E ':80|:18080|:5000'
```

**å¦‚æœéƒ½æ²¡æœ‰è¾“å‡º â†’ æœåŠ¡æœªè¿è¡Œ,ç»§ç»­ä¸‹é¢çš„æ­¥éª¤**

### ç¬¬3æ­¥: å®‰è£…Flask(å¦‚æœªå®‰è£…)

```bash
python3 -c "import flask" 2>&1

# å¦‚æœæŠ¥é”™,æ‰§è¡Œ:
pip3 install Flask==3.0.0 Werkzeug pandas openpyxl -i https://mirrors.tencent.com/pypi/simple/
```

### ç¬¬4æ­¥: å¯åŠ¨Flaskåº”ç”¨

```bash
cd /data/workspace/tencent_CodeBuddy/aladdinsun/AIdatabase

# æ–¹å¼1: ä½¿ç”¨é¡¹ç›®è‡ªå¸¦è„šæœ¬
bash start_with_nginx.sh

# æ–¹å¼2: æ‰‹åŠ¨å¯åŠ¨(å¦‚æœè„šæœ¬å¤±è´¥)
nohup python3 app_simple.py > app.log 2>&1 &

# ç­‰å¾…5ç§’
sleep 5

# æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
ps aux | grep app_simple.py
ss -tlnp | grep -E ':18080|:5000'
```

### ç¬¬5æ­¥: æµ‹è¯•FlaskæœåŠ¡

```bash
# æµ‹è¯•æœ¬åœ°è®¿é—®
curl http://localhost:18080

# æˆ–
curl http://localhost:5000

# å¦‚æœè¿”å›HTMLå†…å®¹ â†’ Flaskæ­£å¸¸è¿è¡Œ âœ…
# å¦‚æœè¿æ¥å¤±è´¥ â†’ æŸ¥çœ‹æ—¥å¿—: tail -50 app.log
```

### ç¬¬6æ­¥: å¯åŠ¨Nginx

```bash
# æ£€æŸ¥Nginxé…ç½®
nginx -t

# å¦‚æœé…ç½®æ­£ç¡®,å¯åŠ¨Nginx
nginx
# æˆ–
sudo nginx

# æ£€æŸ¥Nginxæ˜¯å¦è¿è¡Œ
ps aux | grep nginx
ss -tlnp | grep ':80'
```

### ç¬¬7æ­¥: æµ‹è¯•å®Œæ•´è®¿é—®

```bash
# æœ¬åœ°æµ‹è¯•
curl http://localhost

# åŸŸåæµ‹è¯•
curl http://aladdinsun.devcloud.woa.com

# æµè§ˆå™¨è®¿é—®
# http://aladdinsun.devcloud.woa.com
# https://aladdinsun.devcloud.woa.com
```

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯ä¸è¡Œ

### æ–¹æ¡ˆA: ä½¿ç”¨å¿«é€Ÿä¿®å¤è„šæœ¬

```bash
cd /data/workspace/tencent_CodeBuddy/aladdinsun/AIdatabase
bash quick_fix.sh
```

### æ–¹æ¡ˆB: æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

```bash
# Flaskæ—¥å¿—
tail -f app.log

# Nginxé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# Nginxè®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log
```

### æ–¹æ¡ˆC: å‰å°è¿è¡ŒFlask(è°ƒè¯•)

```bash
cd /data/workspace/tencent_CodeBuddy/aladdinsun/AIdatabase
python3 app_simple.py

# ä¼šå®æ—¶æ˜¾ç¤ºæ—¥å¿—,æŸ¥çœ‹æ˜¯å¦æœ‰æŠ¥é”™
# æŒ‰Ctrl+Cåœæ­¢
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

é¡¹ç›®ä¸­å·²åˆ›å»ºä»¥ä¸‹å¸®åŠ©æ–‡æ¡£:

1. **DEBUG_SUMMARY.md** - å®Œæ•´çš„è¯Šæ–­æ€»ç»“å’Œä¿®å¤æ­¥éª¤
2. **TROUBLESHOOTING_GUIDE.md** - è¯¦ç»†çš„æ•…éšœæ’æŸ¥æŒ‡å—
3. **quick_fix.sh** - ä¸€é”®ä¿®å¤è„šæœ¬

---

## ğŸ’¡ æœ€å¯èƒ½çš„é—®é¢˜

æ ¹æ®åˆ†æ,æœ€å¯èƒ½çš„åŸå› æ˜¯:

1. âŒ **Flaskåº”ç”¨æ²¡æœ‰è¿è¡Œ** (æœ€å¸¸è§)
   - è§£å†³: `nohup python3 app_simple.py > app.log 2>&1 &`

2. âŒ **Nginxæ²¡æœ‰è¿è¡Œ**
   - è§£å†³: `nginx` æˆ– `sudo nginx`

3. âŒ **Flaskä¾èµ–ç¼ºå¤±**
   - è§£å†³: `pip3 install Flask -i https://mirrors.tencent.com/pypi/simple/`

4. âŒ **Nginxé…ç½®ä¸æ­£ç¡®**
   - è§£å†³: æŸ¥çœ‹ DEBUG_SUMMARY.md ä¸­çš„Nginxé…ç½®ç¤ºä¾‹

5. âŒ **ç«¯å£è¢«å ç”¨**
   - è§£å†³: `fuser -k 18080/tcp && fuser -k 80/tcp`

---

## ğŸ¯ éªŒè¯æˆåŠŸçš„æ ‡å¿—

æˆåŠŸå¯åŠ¨å,åº”è¯¥çœ‹åˆ°:

```bash
$ ps aux | grep -E 'app_simple|nginx'
user  12345  ... python3 app_simple.py
root  12346  ... nginx: master process nginx
root  12347  ... nginx: worker process

$ ss -tlnp | grep -E ':80|:18080'
LISTEN  0  128  0.0.0.0:80       0.0.0.0:*    users:(("nginx",pid=12346))
LISTEN  0  5    0.0.0.0:18080    0.0.0.0:*    users:(("python3",pid=12345))
```

ç„¶åè®¿é—®: http://aladdinsun.devcloud.woa.com å³å¯çœ‹åˆ°é¡µé¢ âœ…

---

**æç¤º:** å¦‚æœä½ çœ‹ä¸åˆ°å‘½ä»¤è¾“å‡º,å¯èƒ½æ˜¯ç»ˆç«¯é—®é¢˜,å°è¯•:
- ä½¿ç”¨ `bash -x` è¿è¡Œè„šæœ¬çœ‹è¯¦ç»†è¿‡ç¨‹
- ç›´æ¥åœ¨SSHç»ˆç«¯æ‰§è¡Œ,è€Œä¸æ˜¯é€šè¿‡IDE
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶: `cat app.log`

**éœ€è¦å¸®åŠ©?** è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯:
1. `ps aux | grep app_simple` çš„è¾“å‡º
2. `ss -tlnp | grep :18080` çš„è¾“å‡º  
3. `tail -30 app.log` çš„è¾“å‡º
4. `nginx -t` çš„è¾“å‡º
